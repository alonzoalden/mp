<h3 class="ibox-title dialog-title">Create Item Variations</h3>
<div mat-dialog-content style="background-color: #f3f3f4;">
    <mat-tab-group class="item-variation" [@.disabled]="true" [disableRipple]="true" [dynamicHeight]="false">
        
        <mat-tab *ngFor="let tab of tabsList; let i = index" [label]="tab">

            
            <ng-container>
                <ng-template mat-tab-label>
                    <span>{{ tab.attributeName | translate }}</span>
                </ng-template>
            
                <div class="item-variation-content">
                    <h5 style="font-size: 14px; padding-bottom: 10px;">Select {{tab.attributeName}} Variations</h5> 
                    <mat-selection-list #properties
                        [(ngModel)]="tab.selectedProperties"
                        (ngModelChange)="onNgModelChange($event)">
                        <mat-list-option
                            *ngFor="let property of tab.variations"
                            bindLabel="name"
                            [value]="id">
                                {{property.name}}
                        </mat-list-option>
                    </mat-selection-list>


                    <div style="margin-top: 40px;" *ngIf="canShowDefaultOldSettingsInput(tab.attributeName)">
                        <h5>Default old settings to:</h5>
                        <ng-select [items]="tab.selectedProperties"
                                    bindLabel="attributeName"
                                    placeholder="{{ 'Choose Old Default Variation' | translate }}"
                                    [(ngModel)]="oldDefault.variation"
                                    (change)="onUpdateOldDefault(tab.attributeName)"
                                    name="selectAttribute"
                                    required
                                    loadingText="Loading..."
                                    class="inbound-line"
                                    style="width: 100%;">
                        </ng-select>
                    </div>
                    <p style="position: absolute; bottom: 0;">
                        Options selected: {{properties.selectedOptions.selected.length}}
                    </p>
                </div>
            </ng-container>
            
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <i class="fa fa-plus m-r-sm"></i>
                <span>{{ 'Add Attribute' | translate }}</span>
            </ng-template>
            <div class="item-variation-content">
                <div class="m-b-md">
                    <h5 style="font-size: 14px;padding-bottom: 10px;">Select Item Attribute</h5> 
                    <ng-select [items]="tabsListData"
                                bindLabel="attributeName"
                                placeholder="{{ 'Select Attribute' | translate }}"
                                [(ngModel)]="newTab"
                                name="selectAttribute"
                                required
                                loadingText="Loading..."
                                class="inbound-line"
                                style="width: 100%;">
                    </ng-select>
                </div>

                <div style="text-align: center; margin-top: 40px;">
                    <button (click)="createTab()" mat-raised-button color="primary">
                        Add
                    </button>
                </div>
            </div>
            
        </mat-tab>
    </mat-tab-group>
</div>
<mat-dialog-actions>
    <button [disabled]="addItemVariationInvalid" (click)="onAddItemVariationClick()" mat-button class="btn btn-success-xs" cdkFocusInitial>{{ 'Create Item Variations' | translate }}</button>
    <button (click)="onCancelClick()" mat-button class="btn btn-remove-xs">{{ 'Cancel' | translate }}</button>
</mat-dialog-actions>
